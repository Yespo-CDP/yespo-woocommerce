=== Yespo CDP for eCommerce: Marketing Automation, Omnichannel, Email Marketing, Product Recommendations, Web Tracking & Personalization ===
Contributors: Yespo Marketing Automation & Customer Data Platform
Tags: marketing automation, personalization, customer segmentation, omnichannel, CDP, woocommerce, ecommerce, omnichannel marketing, web tracking, email marketing, sms, push notifications
Requires at least: 6.5.5
Tested up to: 6.7.1
Stable tag: 1.1.2
Requires PHP: 7.4
License: GPLv2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html

CDP for WooCommerce: boost conversion and retention with omnichannel campaigns (email, SMS, push notifications, widgets) and product recommendations!

== Description ==

[**Yespo**](https://yespo.io/?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce) **is an omnichannel customer data platform (CDP) that helps medium and large online projects easily use customer behavior data to increase additional sales.** The platform allows companies to collect and combine clients’ data from the website, mobile app, offline, email and direct channels for marketing automation, customer segmentation, and product recommendations. More than 3,500 brands from 23 countries chose **Yespo**, and 300 of these companies are enterprise-level.

### **Yespo CDP integration with WooCommerce**

We have developed a connection for WooCommerce store owners to integrate with Yespo in a few clicks. The plugin allows you to transfer to Yespo CDP:

1. contact information: after registering a customer on the site or creating a user in the WooCommerce admin, from orders, historical data;
2. order data: upon creation and status updates, historical order data;
3. website events: user activity on the website, including visited pages, contents of the cart, and orders.

When changes are made in WooCommerce (contacts: creation, update, and deletion; orders: creation and status update), this data is also updated in the system. This enables you to target valuable contact segments and build stronger customer relationships effortlessly.

We strive to empower companies [to use data](https://yespo.io/data-processing-agreement?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce) to engage with customers, making marketing automation strategies more effective. Since the Yespo database integrates seamlessly with your WooCommerce store, you can get complete information about every customer who interacts with your business. Then, you are able to use this data for personalized marketing automation across 9 channels, including push notifications, SMS, and email campaigns.

### **Yespo CDP core features**

Yespo’s [subscription](https://yespo.io/tarif-universum?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)\-based service includes the following features:

### **Data Collection**

The customer data platform collects first-party data, which is the most valuable type of data that the company owns. CDP transfers static information (name, age, gender, city, profession, etc.) and behavioral data of users from the WooCommerce store, mobile application, direct channels (e.g., SMS and email marketing), and offline sources.

### **Profile Unification**

CDP processes customer data, brings it to a single view, and identifies information with the corresponding user profile. The system keeps a **single customer profile** up-to-date because CDP receives and processes data in real-time.

### **WooCommerce Web Tracking Features**

Web tracking enables marketing automation and personalization, allowing you to implement in your WooCommerce store the most popular and profitable ecommerce workflows through your omnichannel CDP.

The Yespo CDP WooCommerce plugin simplifies web tracking setup, enabling enhanced personalization, product recommendations, and marketing automation. The plugin transmits the following events: PageView, ProductPage, CategoryPage, CustomerData, StatusCart, PurchasedItems, MainPage, NotFound, ProductImpression.

**PageView:** The default event that tracks URLs of pages. It is required for all other web tracking events to work.
**ProductPage:** Tracks specific product pages. This key event enables a wide range of uses, such as abandoned view campaigns, discount notifications for viewed items, or win-back campaigns. For example, if a product viewed by a visitor previously goes on discount, you can notify them about the deal.
**CategoryPage:** Monitors views of product categories on your website. Also, this event tracks when the exact user views a category of products. You can use this information, for example, to send them an email with product recommendations for the most popular items in their viewed category—offering a unique twist on abandoned view campaigns.
**CustomerData:** Tracks customer data after the registration, login, or completed purchase. This essential event identifies your website visitors and links them to accounts in your system, enabling personalized campaigns, for example via email marketing.
**StatusCart:** Tracks the current state of the shopping cart. This event is used to run some of the most effective ecommerce workflows, such as the abandoned cart, discount notifications for products in the abandoned cart, and notifications for discounts on products similar to those in the cart. For example, if a user added something to the cart but didn’t purchase it, you can send them product recommendations with similar discounted items or reminder about abandoned cart.
**PurchasedItems:** Tracks completed orders. It’s essential for compiling lists of popular products for recommendations, upselling, and cross-selling. For example, if a customer purchased a phone, you can send them a message with product recommendations featuring a phone case and a charger.
**MainPage**: Tracks that a user is currently on the main page. Necessary to display recommendations on the site.
**NotFound:** Tacks 404 page. Necessary to display recommendations on the site.
**ProductImpression:** Is used to show impressions for recommendation blocks in Reports.

#### **Implementation Details**

Unlike other solutions, installing web tracking on your WooCommerce site doesn’t require developers or in-depth technical skills. Once you enter the correct API key into the plugin, the rest is done automatically.

The web tracking code for WooCommerce is highly optimized, ensuring fast page loading speed and uninterrupted customer experience.

If you decide to stop using the Yespo CDP plugin for WooCommerce, all scripts can be safely removed from your website.

### [**Customer Segmentation**](https://yespo.io/blog/customer-segmentation-key-role-types-usage-and-case-studies?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce) **for WooCommerce**

Yespo CDP allows for in-depth customer segmentation based on all available information, including customer behavior data. There is no limit to the number of conditions that can be used to form a segment. The system also offers the following advanced functions:

* Behavioral segmentation.
* [Segmentation by events](https://yespo.io/support/segmentation).
* Segmentation by parameter.
* [Predictive segmentation](https://yespo.io/blog/predictive-segmentation-101-brief-history-and-core-principles/amp) (the system has a set of ready-made algorithms for the formation of segments that predict the probability of purchasing or churning customers).
* Value-based customer segmentation.
* [RFM segmentation.](https://yespo.io/blog/rfm-segmentation?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)
* Cohort analysis segmentation.

Processed and structured data can be immediately used in CDP for personalized omnichannel marketing campaigns on the WooCommerce website, in the mobile application, and through direct channels, such as push notifications, SMS, and email campaigns.

### [**Personalization**](https://yespo.io/site-recommendations?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce) **for WooCommerce**

Due to the completeness of data and its comprehensive analysis, you can encourage users to take the desired actions through personalized interactions. These interactions consider user needs, preferences, optimal channels, language, and timing of communication.
 [Product recommendations](https://yespo.io/blog/personalized-product-recommendations-technology-details-and-case-studies?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce) are an important tool for personalization and increased sales for WooCommerce online stores. According to our statistics, personal product recommendations generate about 20% of online store sales. Personalized product sets created in Yespo can be used on the website, in the mobile application, in email marketing, and even by consultants in offline stores.
 Thanks to the unification of data and the omnichannel nature of Yespo CDP technology, the customer receives the same offers in all channels, which provides them with a seamless and personalized user experience.
 To enable each business to fully use product recommendations in their WooCommerce stores, 200 ready-made algorithms are available in the system, and there is also the possibility of custom algorithm development.

### **Workflows Automation for WooCommerce**

The customer data platform solves the business challenge of marketing automation. Our CDP enables the creation and launching of trigger campaigns in various channels, including SMS and email marketing,  that automatically respond to customer actions or inactions.
 Over the years of analysis, the Yespo team has identified the most profitable scenarios for ecommerce:

* Reduced cost of items in the cart;
* Regular demand;
* Out of stock;
* Next best offer;
* WishList event triggers;
* Abandoned cart;
* Abandoned browse;
* Abandoned search;
* Reactivation and others.

Our team is currently working on implementing the ability to launch triggers via a plugin.

### **Multilingual Campaign Automation for WooCommerce stores**

Another challenge for companies with a complex trigger map and operations in several markets is maintaining communication in the client’s language. Yespo has a convenient solution for [automating multilingual campaigns](https://yespo.io/multilingual-campaigns?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce), which reduces work with multilingual audiences by 5 times. The interface allows the creation of a single message template for all language versions. The system will automatically determine which version to send based on the user’s browser language.

### **Omnichannel Marketing for WooCommerce**

The functionality of Yespo makes real omnichannel marketing possible: all communication channels are integrated into a single system. Each channel enriches a single profile and has access to the full set of data in the system. Thus, the channels are coordinated and complement each other, ensuring high-quality customer interaction.
 In the Yespo system, you can use up to 9 channels in a single connection:

* [Email](https://yespo.io/email-campaigns?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)
* [Web push notifications](https://yespo.io/automated-web-push-notifications?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)
* [Mobile push notifications](https://yespo.io/mobile-push-notifications?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)
* [App Inbox](https://yespo.io/app-inbox?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)
* [In-App](https://yespo.io/support/creating-in-app-message?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)
* [Widgets](https://yespo.io/popup?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)
* [SMS](https://yespo.io/sms-campaigns?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)
* [Viber](https://yespo.io/viber?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)
* [Telegram](https://yespo.io/telegram?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce)

### **User Data Management and Protection**

This plugin transmits data from your WooCommerce website to the external Yespo system to enhance the customer experience through the following system features:

1. Data collection and unification, creation of a single customer profile: the plugin sends **user contact information**, provided during registration or order placement, from your website to the Yespo system. It also transmits **order details**, including creation, status updates, and historical order data. The system automatically processes the received data and updates the customer profile.
2. Customer segmentation based on the available data within the system.
3. Marketing automation and personalization of communications across 9 direct channels.

CDP Yespo provides a platform for stores to manage and improve the user experience.

To understand how [Yespo](https://yespo.io/?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce) processes the user data collected from your website, please review our [Data Processing Agreement](https://yespo.io/data-processing-agreement?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce) (DPA), [Terms of Use](https://yespo.io/terms-of-use?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce), and [Privacy Policy](https://yespo.io/privacy-policy?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce).

You can rest assured that your customers’ data is collected and used responsibly. [CDP Yespo fully complies with GDPR](https://yespo.io/gdpr-compliant?utm_source=wordpress&utm_medium=referral&utm_campaign=woocommerce), and its information security management system is certified under ISO/IEC 27001:2022.

You retain ownership of your data: if a customer’s personal data is deleted in WooCommerce, it will also be deleted from the Yespo system.


== Installation ==


Integration of Yespo with your WooCommerce store can be done in a few clicks:

1. Install and activate the Yespo plugin.

2. A Yespo section will appear in the WordPress admin panel; go to it to authorize and start data synchronization.

3. Enter the Full access API key and click the Synchronize button. You can copy the API key from your [Yespo account](https://my.yespo.io/settings-ui/#/api-keys-list).

3.1 Yespo plugin supports multisite configurations for WooCommerce stores in WordPress. For correct data handling, each WooCommerce store must be connected to a separate Yespo account.

4. If there is no data for synchronization yet, historical data transfer will not occur.

5. After clicking the **Synchronize** button, the new contacts’ and orders’ data that appear in WooCommerce will be automatically transferred to Yespo

6. To configure web tracking, click the dedicated button—this will install the general script and set up event tracking on your website.

**NOTE:**

* The plugin relies on data transfer via cron jobs. Ensure you have an active cron set up: either the default WordPress cron or a server-side cron on your hosting.
* f you're using any caching plugins, make sure to install updates through the WordPress repository and clear your cache afterward to ensure all changes are properly applied.

Explore our [manual](https://yespo.io/support/installing-plugin-woocommerce-sites) for more details.

If you need help with setting up the integration, please contact [Yespo support](https://yespo.io/support).

== Changelog ==

= 1.1.2 (2025-04-14) =
* Resolved export-related bugs that were blocking the completion of historical data transmission and interrupting real-time data flow. Moved the emission of StatusCart, PurchasedItems, and CustomerData events to the backend.

= 1.1.1 (2025-02-21) =
* Made the script installation and event tracking setup for web tracking optional, allowing manual activation.

= 1.1.0 (2025-02-04) =
* Introduced new events to enhance recommendation configuration:
  * MainPage – Tracks user presence on the main page, enabling recommendation setup.
  * NotFound – Tracks visits to the 404 page to configure recommendations even when a page is not found.
  * ProductImpression – Logs impressions of recommendation blocks in reports for better tracking and configuration.
* Updated order data source to support a wider range of WooCommerce versions, ensuring better compatibility and stability.

= 1.0.2 (2024-11-21) =
* Added automatic web tracking configuration functionality.

= 1.0.1 (2024-10-30) =
* Updated description in readme.txt for improved link formatting.

= 1.0.0 =

* Initial version

== Screenshots ==

1. Authorization
2. Data  Synchronization Started
3. Data Synchronization Completed

== Contributing ==

We welcome contributions to the Yespo CDP WooCommerce Plugin! Whether you're fixing bugs, improving documentation, or adding new features, your contributions are appreciated.

### 🌿 Branch Structure

This project uses **Git Flow** workflow:
- **`main`** - Production-ready code, stable releases
- **`develop`** - Active development branch, all PRs should target this branch
- **Feature branches** - Created from `develop` for new features or fixes

### 🚀 Quick Start

1. **Fork the Repository**
   ```bash
   # Fork on GitHub, then clone your fork
   git clone git@github.com:ardas/yespo-cdp.git
   cd yespo-cdp
   # Switch to development branch
   git checkout develop
   ```

2. **Set Up Development Environment**
   ```bash
   # Install PHP dependencies
   composer install
   
   # Install Node.js dependencies
   npm install
   
   # Build assets
   npm run build
   ```

3. **Configure WordPress Environment**
   - Set up a local WordPress installation
   - Install and activate WooCommerce
   - Install the plugin in development mode
   - Configure your Yespo API credentials

### 📝 Making Changes

#### Branch Naming
- `feature/description` - for new features
- `fix/description` - for bug fixes
- `docs/description` - for documentation updates
- `refactor/description` - for code refactoring
- `security/description` - for security fixes

#### Commit Messages
Follow conventional commits:
```
type(scope): description

Example:
feat(api): add webhook for order updates
fix(ui): resolve API key validation issue
docs(readme): update installation instructions
refactor(export): improve user data export performance
```

#### Pull Request Process

1. **Create a Feature Branch from `develop`**
   ```bash
   git checkout develop
   git pull origin develop
   git checkout -b feature/your-feature-name
   ```

2. **Make Your Changes**
   - Follow our [coding standards](#-coding-standards)
   - Update documentation if needed
   - Add tests for new functionality

3. **Validate Your Changes**
   ```bash
   npm run lint        # Check code style
   npm run build       # Ensure project builds correctly
   composer test       # Run PHP tests (if available)
   ```

4. **Submit Pull Request to `develop`**
   - Push to your fork: `git push origin feature/your-feature-name`
   - Create a Pull Request **targeting the `develop` branch** with:
     - **Clear title** describing the change
     - **Detailed description** explaining:
       - What problem does this solve?
       - What changes were made?
       - How to test the changes?
     - **Screenshots** for UI changes
     - **Link to related issues**

### 🔧 Coding Standards

#### PHP & WordPress

#### File Organization
```
yespo-cdp/
├── ajax/               # AJAX handlers
├── assets/             # Frontend assets (CSS, JS, images)
├── backend/            # Admin panel functionality
│   ├── views/          # Admin templates
│   └── ActDeact.php    # Activation/deactivation hooks
├── engine/             # Core plugin engine
├── frontend/           # Frontend functionality
├── functions/          # WordPress hooks and functions
├── integrations/       # External service integrations
│   ├── esputnik/       # Yespo API integration
│   └── webtracking/    # Web tracking functionality
├── internals/          # Internal plugin components
├── languages/          # Translation files
├── rest/               # REST API endpoints
└── templates/          # Frontend templates
```

#### Code Style
- **90 characters** line length (max 120)
- **4 spaces** indentation
- Use **meaningful names** (avoid single letters except in loops)
- Follow **WordPress Coding Standards**
- Use **proper sanitization** for all user inputs

#### Naming Conventions

**Classes:**
```php
// ✅ Component classes - descriptive names with Component suffix
class Settings_Page extends Base {
    // Component logic here
}

// ✅ Service classes - descriptive names
class Yespo_Account {
    // Service logic here
}

// ✅ Integration classes - descriptive names with service prefix
class Yespo_Contact_Mapping {
    // Integration logic here
}
```

**Functions:**
```php
// ✅ WordPress hooks - descriptive names with function suffix
function yespo_check_api_authorization_function() {
    // Function logic here
}

// ✅ Helper functions - descriptive names
function yespo_get_settings() {
    // Helper logic here
}
```

**Interfaces:**
```php
// ✅ Interface naming - descriptive names with I suffix
interface Yespo_Integration_I {
    public function initialize();
}
```

#### Security Guidelines
```php
// ✅ Proper sanitization
$api_key = sanitize_text_field(wp_unslash($_POST['yespo_api_key']));

// ✅ Nonce verification
if (!wp_verify_nonce(sanitize_text_field(wp_unslash($_POST['nonce'])), 'action_name')) {
    return;
}

// ✅ Capability checks
if (!current_user_can('manage_options')) {
    return;
}

// ✅ Prepared statements for database queries
$wpdb->prepare("INSERT INTO %i (api_key, response, time) VALUES (%s, %s, %s)", ...);
```

### JavaScript & Frontend

#### File Organization
```
assets/
├── src/                # Source files
│   ├── styles/         # SCSS files
│   └── scripts/        # JavaScript files
└── build/              # Compiled assets
```

#### Code Style
- Use **ES6+** features
- Follow **WordPress JavaScript Coding Standards**
- Use **meaningful variable names**
- Add **error handling** for all API calls

#### Component Guidelines
```javascript
// ✅ Good: Clear component structure
class YespoAdmin {
    constructor() {
        this.apiKey = '';
        this.init();
    }
    
    init() {
        this.bindEvents();
        this.checkAuthorization();
    }
    
    bindEvents() {
        // Event binding logic
    }
}
```

### 🐛 Bug Reports

Found a bug? Help us fix it by providing detailed information.

#### Before Reporting
- Check if the issue already exists in [GitHub Issues](https://github.com/ardas/yespo-cdp/issues)
- Make sure you're using the latest version
- Try to reproduce the issue consistently
- Check WordPress and WooCommerce compatibility

#### Bug Report Template
Use the GitHub bug report template when creating an issue. Include:
- WordPress version
- WooCommerce version
- PHP version
- Plugin version
- Steps to reproduce
- Expected vs actual behavior
- Error logs if applicable

### 💡 Feature Requests

Have an idea for improvement? We'd love to hear it!

#### Feature Request Template
Use the GitHub feature request template when suggesting new features. Include:
- Problem statement
- Proposed solution
- Implementation ideas
- Use cases

### 🔒 Security

#### Reporting Security Issues
**Do not report security vulnerabilities through public GitHub issues.**

Instead, please email us directly at: **support@yespo.io**

Include:
- Description of the vulnerability
- Steps to reproduce
- Potential impact
- Suggested fix (if any)

#### Security Guidelines for Contributors
- **Never commit** API keys, passwords, or secrets
- Use **WordPress options** for storing sensitive configuration
- **Validate all inputs** and sanitize user data
- Follow **WordPress security best practices**
- Keep dependencies up to date
- Use **nonces** for all forms and AJAX requests
- Implement **capability checks** for admin functions

### 🤝 Community Guidelines

#### Code of Conduct
- **Be respectful** and inclusive
- **Focus on constructive feedback**
- **Help newcomers** feel welcome
- **Assume good intentions**
- **No harassment** or inappropriate behavior

#### Getting Help
- 📖 Check the [documentation](https://yespo.io/support)
- 💬 Ask questions in GitHub Discussions
- 📧 Contact us at support@yespo.io
- 🐛 Report bugs through GitHub Issues

### 📊 Issue Management

#### 🏷️ Labels We Use

| Label | Description | Used For |
|-------|-------------|----------|
| `bug` | Something isn't working | Bug reports |
| `feature` | New feature request | Feature requests |
| `enhancement` | Improvement to existing feature | Enhancements |
| `documentation` | Documentation needs update | Docs updates |
| `good first issue` | Good for newcomers | Beginner-friendly |
| `help wanted` | Extra attention needed | Community help |
| `question` | General questions | Q&A |
| `priority: critical` | Urgent fix needed | Critical bugs |
| `priority: high` | Should be fixed soon | Important issues |
| `priority: medium` | Normal priority | Standard issues |
| `priority: low` | Can wait | Minor issues |
| `status: waiting-for-feedback` | Needs more info | Pending response |
| `status: in-progress` | Being worked on | Active work |
| `scope: api` | Backend/API related | API changes |
| `scope: ui` | Frontend/UI related | UI changes |
| `scope: docs` | Documentation related | Docs changes |
| `scope: integration` | Yespo integration related | Integration changes |
| `scope: webtracking` | Web tracking related | Tracking changes |

#### 📝 Issue Templates

We provide several issue templates to help you report issues effectively:

- **🐛 Bug Report** - For reporting bugs and issues
- **💡 Feature Request** - For suggesting new features
- **❓ Question** - For asking questions about the plugin

Each template includes specific sections to help us understand and address your request quickly.

### 📞 Support Channels

- **🐛 Found a bug?** → [Create a Bug Report](https://github.com/ardas/yespo-cdp/issues/new?template=bug_report.md)
- **💡 Have a feature idea?** → [Submit a Feature Request](https://github.com/ardas/yespo-cdp/issues/new?template=feature_request.md)
- **❓ Need help?** → [Ask a Question](https://github.com/ardas/yespo-cdp/issues/new?template=question.md)
- **📚 Check documentation** → [yespo.io/support](https://yespo.io/support)
- **📧 Direct support** → support@yespo.io
- **🔒 Security issues** → support@yespo.io

### 🧪 Testing

#### Manual Testing Checklist
Before submitting a PR, ensure you've tested:

- [ ] Plugin activation/deactivation
- [ ] API key configuration
- [ ] User data export functionality
- [ ] Order data export functionality
- [ ] Web tracking script installation
- [ ] Event tracking (cart, purchase, etc.)
- [ ] Admin interface functionality
- [ ] Multisite compatibility (if applicable)
- [ ] WordPress/WooCommerce version compatibility

#### Automated Testing
```bash
# Run PHP linting
composer lint

# Run JavaScript linting
npm run lint

# Build assets
npm run build

# Run tests (if available)
composer test
```

---

Thank you for contributing to Yespo CDP WooCommerce Plugin! 🙏

Your contributions help make Yespo better for everyone. Whether you're reporting bugs, suggesting features, or contributing code, every bit helps! 💙